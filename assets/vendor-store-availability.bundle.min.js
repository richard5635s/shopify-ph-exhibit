import{c as t,g as i}from"./shared-import-_commonjsHelpers.bundle.min.js";var n=function(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)},e="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,o=e||r||Function("return this")(),a=o,u=function(){return a.Date.now()},c=/\s/;var l=function(t){for(var i=t.length;i--&&c.test(t.charAt(i)););return i},f=/^\s+/;var s=function(t){return t?t.slice(0,l(t)+1).replace(f,""):t},v=o.Symbol,d=v,p=Object.prototype,b=p.hasOwnProperty,y=p.toString,h=d?d.toStringTag:void 0;var w=function(t){var i=b.call(t,h),n=t[h];try{t[h]=void 0;var e=!0}catch(t){}var r=y.call(t);return e&&(i?t[h]=n:delete t[h]),r},m=Object.prototype.toString;var g=w,j=function(t){return m.call(t)},S=v?v.toStringTag:void 0;var O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":S&&S in Object(t)?g(t):j(t)},T=function(t){return null!=t&&"object"==typeof t};var _=s,x=n,N=function(t){return"symbol"==typeof t||T(t)&&"[object Symbol]"==O(t)},M=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,W=/^0o[0-7]+$/i,$=parseInt;var A=n,D=u,E=function(t){if("number"==typeof t)return t;if(N(t))return NaN;if(x(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=x(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=_(t);var n=C.test(t);return n||W.test(t)?$(t.slice(2),n?2:8):M.test(t)?NaN:+t},F=Math.max,H=Math.min;var P=i((function(t,i,n){var e,r,o,a,u,c,l=0,f=!1,s=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(i){var n=e,o=r;return e=r=void 0,l=i,a=t.apply(o,n)}function p(t){return l=t,u=setTimeout(y,i),f?d(t):a}function b(t){var n=t-c;return void 0===c||n>=i||n<0||s&&t-l>=o}function y(){var t=D();if(b(t))return h(t);u=setTimeout(y,function(t){var n=i-(t-c);return s?H(n,o-(t-l)):n}(t))}function h(t){return u=void 0,v&&e?d(t):(e=r=void 0,a)}function w(){var t=D(),n=b(t);if(e=arguments,r=this,c=t,n){if(void 0===u)return p(c);if(s)return clearTimeout(u),u=setTimeout(y,i),d(c)}return void 0===u&&(u=setTimeout(y,i)),a}return i=E(i)||0,A(n)&&(f=!!n.leading,o=(s="maxWait"in n)?F(E(n.maxWait)||0,i):o,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==u&&clearTimeout(u),l=0,e=c=r=u=void 0},w.flush=function(){return void 0===u?a:h(D())},w}));const U=function(){function t(t){this.container=t,this.fetchContent=P(this.__fetchContent.bind(this),500,{leading:!0,trailing:!0}),window.Spruce.store("availability").product_title=this.container.dataset.productTitle}return t.prototype=Object.assign({},t.prototype,{__fetchContent:function(t){if(window.Spruce.store("availability").availability[t.id])return window.Spruce.store("availability").current_variant=t,void(window.Spruce.store("availability").loading=!1);{let i=this.container.dataset.baseUrl;i.endsWith("/")||(i+="/");const n=i+"variants/"+t.id+"/?section_id=store-availability";return window.Spruce.store("availability").loading=!0,fetch(n).then((function(t){return t.text()})).then((function(i){window.Spruce.store("availability").loading=!1,window.Spruce.store("availability").current_variant=t;let n="";const e=(new DOMParser).parseFromString(i,"text/html").querySelector("[data-availability-json]");e&&(n=JSON.parse(e.innerHTML)),window.Spruce.store("availability").availability[n.variant]=n.availability}))}}}),t}();window.StoreAvailability=U;
